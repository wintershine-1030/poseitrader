<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-nightly docs-doc-page docs-doc-id-concepts/orders" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Orders | PoseiTrader Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="docs/latestimg/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="docs/latestimg/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="docs/latestnightly/concepts/orders"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="Open-source trading platform, Algorithmic trading software, Event-driven backtesting, Live trading with no code changes, Trade any asset class, Low-latency trading execution, Python API for trading strategies, Custom market data integration, Futures and options trading, Crypto spot and derivatives trading, Equities trading simulation, FX spot trading, Sports betting markets trading, Fast backtesting strategies, Advanced trading orders, Rust-based trading platform, High-performance trading system, Nanosecond resolution market simulation, Trading across multiple venues, Trading platform for hedge funds, Seamless data integration, Customizable trading strategies, AI and ML trading strategies, Posei trading platform, Multi-venue trading, Unlimited backtesting strategies, Fast trading execution solutions, Realistic market simulations, Seamless trading API integration, PoseiTrader Documentation, Docs, PoseiTrader Docs"><meta data-rh="true" name="title" content="PoseiTrader Documentation"><meta data-rh="true" name="og:title" content="PoseiTrader Documentation"><meta data-rh="true" name="og:description" content="PoseiTrader is a high-performance platform for automating trading strategies, built on the powerful Posei framework for backtesting and real-time trading."><meta data-rh="true" name="og:image" content="img/preview.png"><meta data-rh="true" name="og:url" content="/docs/latest"><meta data-rh="true" name="docusaurus_version" content="nightly"><meta data-rh="true" name="docusaurus_tag" content="docs-default-nightly"><meta data-rh="true" name="docsearch:version" content="nightly"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-nightly"><meta data-rh="true" property="og:title" content="Orders | PoseiTrader Documentation"><meta data-rh="true" name="description" content="This guide provides further details about the available order types for the platform, along with"><meta data-rh="true" property="og:description" content="This guide provides further details about the available order types for the platform, along with"><link data-rh="true" rel="icon" href="../../../img/shell.ico"><link data-rh="true" rel="canonical" href="index.htm"><link data-rh="true" rel="alternate" href="index.htm" hreflang="en"><link data-rh="true" rel="alternate" href="index.htm" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://CWRKEEL01M-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Concepts","item":"docs/latestnightly/concepts/"},{"@type":"ListItem","position":2,"name":"Orders","item":"docs/latestnightly/concepts/orders"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="PoseiTrader Documentation" href="../../../opensearch.xml">
<script>!function(){var t=window.location.pathname;if(t.startsWith("/docs")&&!t.startsWith("/docs/latest")&&!t.startsWith("/docs/nightly")){var s=t.replace("/docs","/docs/latest");window.location.href=s}}()</script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TR4XK597XK"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-TR4XK597XK",{anonymize_ip:!0})</script><link rel="stylesheet" href="../../../assets/css/styles.0f0f692e.css">
<script src="../../../assets/js/runtime~main.92b727d5.js" defer="defer"></script>
<script src="../../../assets/js/main.1cd42d85.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewbox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></symbol>
</defs></svg>
<script>!function(){var t="dark";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewbox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="../../../../index.htm" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="../../../img/nt-black-large.webp" alt="PoseiTrader Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="../../../img/nt-white-large.webp" alt="PoseiTrader Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Version</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="../../../latest/index.html">latest</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="../../index.htm">nightly</a></li></ul></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewbox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/poseisysstems" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link common-social" aria-label="GitHub repository"></a> <a href="https://twitter.com/PoseiTrader" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-x-link common-social" aria-label="X"></a><div class="toggleContainer_T22x colorModeToggle_DEke"><button class="clean-btn toggleButton_yw5v toggleButtonDisabled_BJd7" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><div class="switch_Ms1n"><span class="iconWrapper_FHql"><style data-emotion="css lp52so">.css-lp52so{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.5rem;color:black;font-size:14px;}</style><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium lightToggleIcon_SFTY css-lp52so" focusable="false" aria-hidden="true" viewbox="0 0 24 24" data-testid="LightModeIcon"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5M2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1m18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1M11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1m0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1M5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0z"></path></svg><style data-emotion="css 13m6tje">.css-13m6tje{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.5rem;color:white;font-size:14px;}</style><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium darkToggleIcon_ekgs css-13m6tje" focusable="false" aria-hidden="true" viewbox="0 0 24 24" data-testid="DarkModeIcon"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1"></path></svg></span></div></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a href="../../../../index.htm" target="_blank" rel="noopener noreferrer" tabindex="-1" class="sidebarLogo_isFc"><img src="../../../img/nt-black-large.webp" alt="PoseiTrader Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="../../../img/nt-white-large.webp" alt="PoseiTrader Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b></b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../index.htm">PoseiTrader Documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../../getting_started/index.htm">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="../index.htm">Concepts</a><button aria-label="Collapse sidebar category &#x27;Concepts&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../overview/index.htm">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../architecture/index.htm">Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../actors/index.htm">Actors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../strategies/index.htm">Strategies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../instruments/index.htm">Instruments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../data/index.htm">Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../execution/index.htm">Execution</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="index.htm">Orders</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../cache/index.htm">Cache</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../message_bus/index.htm">Message Bus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../portfolio/index.htm">Portfolio</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../logging/index.htm">Logging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../backtesting/index.htm">Backtesting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../live/index.htm">Live Trading</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../adapters/index.htm">Adapters</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../../tutorials/index.htm">Tutorials</a><button aria-label="Expand sidebar category &#x27;Tutorials&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../../integrations/index.htm">Integrations</a><button aria-label="Expand sidebar category &#x27;Integrations&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../../api_reference/index.htm">Python API</a><button aria-label="Expand sidebar category &#x27;Python API&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="../../../core-nightly/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">Rust API<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../../developer_guide/index.htm">Developer Guide</a><button aria-label="Expand sidebar category &#x27;Developer Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="../index.htm"><span>Concepts</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Orders</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: nightly</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Orders</h1></header>
<p>This guide provides further details about the available order types for the platform, along with
the execution instructions supported for each.</p>
<p>Orders are one of the fundamental building blocks of any algorithmic trading strategy.
PoseiTrader supports a broad set of order types and execution instructions, from standard to advanced,
exposing as much of a trading venue&#x27;s functionality as possible. This enables traders to define instructions
and contingencies for order execution and management, facilitating the creation of virtually any trading strategy.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>All order types are derived from two fundamentals: <em>Market</em> and <em>Limit</em> orders. In terms of liquidity, they are opposites.
<em>Market</em> orders consume liquidity by executing immediately at the best available price, whereas <em>Limit</em>
orders provide liquidity by resting in the order book at a specified price until matched.</p>
<p>The order types available for the platform are (using the enum values):</p>
<ul>
<li><code>MARKET</code></li>
<li><code>LIMIT</code></li>
<li><code>STOP_MARKET</code></li>
<li><code>STOP_LIMIT</code></li>
<li><code>MARKET_TO_LIMIT</code></li>
<li><code>MARKET_IF_TOUCHED</code></li>
<li><code>LIMIT_IF_TOUCHED</code></li>
<li><code>TRAILING_STOP_MARKET</code></li>
<li><code>TRAILING_STOP_LIMIT</code></li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewbox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>PoseiTrader provides a unified API for many order types and execution instructions, but not all venues support every option.
If an order contains an instruction or option that the target venue does not support, the system <strong>should not</strong> submit the order;
instead, it logs an error with a clear explanatory message.</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="terminology">Terminology<a href="#terminology" class="hash-link" aria-label="Direct link to Terminology" title="Direct link to Terminology">​</a></h3>
<ul>
<li>An order is <strong>aggressive</strong> if its type is <code>MARKET</code> or if it executes as a <em>marketable</em> order (i.e., takes liquidity).</li>
<li>An order is <strong>passive</strong> if it is not marketable (i.e., provides liquidity).</li>
<li>An order is <strong>active local</strong> if it remains within the local system boundary in one of the following three non-terminal statuses:
<ul>
<li><code>INITIALIZED</code></li>
<li><code>EMULATED</code></li>
<li><code>RELEASED</code></li>
</ul>
</li>
<li>An order is <strong>in-flight</strong> when at one of the following statuses:
<ul>
<li><code>SUBMITTED</code></li>
<li><code>PENDING_UPDATE</code></li>
<li><code>PENDING_CANCEL</code></li>
</ul>
</li>
<li>An order is <strong>open</strong> when at one of the following (non-terminal) statuses:
<ul>
<li><code>ACCEPTED</code></li>
<li><code>TRIGGERED</code></li>
<li><code>PENDING_UPDATE</code></li>
<li><code>PENDING_CANCEL</code></li>
<li><code>PARTIALLY_FILLED</code></li>
</ul>
</li>
<li>An order is <strong>closed</strong> when at one of the following (terminal) statuses:
<ul>
<li><code>DENIED</code></li>
<li><code>REJECTED</code></li>
<li><code>CANCELED</code></li>
<li><code>EXPIRED</code></li>
<li><code>FILLED</code></li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="execution-instructions">Execution instructions<a href="#execution-instructions" class="hash-link" aria-label="Direct link to Execution instructions" title="Direct link to Execution instructions">​</a></h2>
<p>Certain venues allow a trader to specify conditions and restrictions on
how an order will be processed and executed. The following is a brief
summary of the different execution instructions available.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="time-in-force">Time in force<a href="#time-in-force" class="hash-link" aria-label="Direct link to Time in force" title="Direct link to Time in force">​</a></h3>
<p>The order&#x27;s time in force specifies how long the order will remain open or active before any
remaining quantity is canceled.</p>
<ul>
<li><code>GTC</code> <strong>(Good Till Cancel)</strong>: The order remains active until canceled by the trader or the venue.</li>
<li><code>IOC</code> <strong>(Immediate or Cancel / Fill and Kill)</strong>: The order executes immediately, with any unfilled portion canceled.</li>
<li><code>FOK</code> <strong>(Fill or Kill)</strong>: The order executes immediately in full or not at all.</li>
<li><code>GTD</code> <strong>(Good Till Date)</strong>: The order remains active until a specified expiration date and time.</li>
<li><code>DAY</code> <strong>(Good for session/day)</strong>: The order remains active until the end of the current trading session.</li>
<li><code>AT_THE_OPEN</code> <strong>(OPG)</strong>: The order is only active at the open of the trading session.</li>
<li><code>AT_THE_CLOSE</code>: The order is only active at the close of the trading session.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="expire-time">Expire time<a href="#expire-time" class="hash-link" aria-label="Direct link to Expire time" title="Direct link to Expire time">​</a></h3>
<p>This instruction is to be used in conjunction with the <code>GTD</code> time in force to specify the time
at which the order will expire and be removed from the venue&#x27;s order book (or order management system).</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="post-only">Post-only<a href="#post-only" class="hash-link" aria-label="Direct link to Post-only" title="Direct link to Post-only">​</a></h3>
<p>An order which is marked as <code>post_only</code> will only ever participate in providing liquidity to the
limit order book, and never initiating a trade which takes liquidity as an aggressor. This option is
important for market makers, or traders seeking to restrict the order to a liquidity <em>maker</em> fee tier.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="reduce-only">Reduce-only<a href="#reduce-only" class="hash-link" aria-label="Direct link to Reduce-only" title="Direct link to Reduce-only">​</a></h3>
<p>An order which is set as <code>reduce_only</code> will only ever reduce an existing position on an instrument and
never open a new position (if already flat). The exact behavior of this instruction can vary between venues.</p>
<p>However, the behavior in the Posei <code>SimulatedExchange</code> is typical of a real venue.</p>
<ul>
<li>Order will be canceled if the associated position is closed (becomes flat).</li>
<li>Order quantity will be reduced as the associated position&#x27;s size decreases.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="display-quantity">Display quantity<a href="#display-quantity" class="hash-link" aria-label="Direct link to Display quantity" title="Direct link to Display quantity">​</a></h3>
<p>The <code>display_qty</code> specifies the portion of a <em>Limit</em> order which is displayed on the limit order book.
These are also known as iceberg orders as there is a visible portion to be displayed, with more quantity which is hidden.
Specifying a display quantity of zero is also equivalent to setting an order as <code>hidden</code>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="trigger-type">Trigger type<a href="#trigger-type" class="hash-link" aria-label="Direct link to Trigger type" title="Direct link to Trigger type">​</a></h3>
<p>Also known as <a href="https://guides.interactivebrokers.com/tws/usersguidebook/configuretws/modify_the_stop_trigger_method.htm" target="_blank" rel="noopener noreferrer">trigger method</a>
which is applicable to conditional trigger orders, specifying the method of triggering the stop price.</p>
<ul>
<li><code>DEFAULT</code>: The default trigger type for the venue (typically <code>LAST</code> or <code>BID_ASK</code>).</li>
<li><code>LAST</code>: The trigger price will be based on the last traded price.</li>
<li><code>BID_ASK</code>: The trigger price will be based on the <code>BID</code> for buy orders and <code>ASK</code> for sell orders.</li>
<li><code>DOUBLE_LAST</code>: The trigger price will be based on the last two consecutive <code>LAST</code> prices.</li>
<li><code>DOUBLE_BID_ASK</code>: The trigger price will be based on the last two consecutive <code>BID</code> or <code>ASK</code> prices as applicable.</li>
<li><code>LAST_OR_BID_ASK</code>: The trigger price will be based on the <code>LAST</code> or <code>BID</code>/<code>ASK</code>.</li>
<li><code>MID_POINT</code>: The trigger price will be based on the mid-point between the <code>BID</code> and <code>ASK</code>.</li>
<li><code>MARK</code>: The trigger price will be based on the venue&#x27;s mark price for the instrument.</li>
<li><code>INDEX</code>: The trigger price will be based on the venue&#x27;s index price for the instrument.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="trigger-offset-type">Trigger offset type<a href="#trigger-offset-type" class="hash-link" aria-label="Direct link to Trigger offset type" title="Direct link to Trigger offset type">​</a></h3>
<p>Applicable to conditional trailing-stop trigger orders, specifies the method of triggering modification
of the stop price based on the offset from the <em>market</em> (bid, ask or last price as applicable).</p>
<ul>
<li><code>DEFAULT</code>: The default offset type for the venue (typically <code>PRICE</code>).</li>
<li><code>PRICE</code>: The offset is based on a price difference.</li>
<li><code>BASIS_POINTS</code>: The offset is based on a price percentage difference expressed in basis points (100bp = 1%).</li>
<li><code>TICKS</code>: The offset is based on a number of ticks.</li>
<li><code>PRICE_TIER</code>: The offset is based on a venue-specific price tier.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="contingent-orders">Contingent orders<a href="#contingent-orders" class="hash-link" aria-label="Direct link to Contingent orders" title="Direct link to Contingent orders">​</a></h3>
<p>More advanced relationships can be specified between orders.
For example, child orders can be assigned to trigger only when the parent is activated or filled, or orders can be
linked so that one cancels or reduces the quantity of another. See the <a href="#advanced-orders">Advanced Orders</a> section for more details.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="order-factory">Order factory<a href="#order-factory" class="hash-link" aria-label="Direct link to Order factory" title="Direct link to Order factory">​</a></h2>
<p>The easiest way to create new orders is by using the built-in <code>OrderFactory</code>, which is
automatically attached to every <code>Strategy</code> class. This factory will take care
of lower level details - such as ensuring the correct trader ID and strategy ID are assigned, generation
of a necessary initialization ID and timestamp, and abstracts away parameters which don&#x27;t necessarily
apply to the order type being created, or are only needed to specify more advanced execution instructions.</p>
<p>This leaves the factory with simpler order creation methods to work with, all the
examples will leverage an <code>OrderFactory</code> from within a <code>Strategy</code> context.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewbox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>See the <code>OrderFactory</code> <a href="../../api_reference/common/index.htm#class-orderfactory">API Reference</a> for further details.</p></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="order-types">Order Types<a href="#order-types" class="hash-link" aria-label="Direct link to Order Types" title="Direct link to Order Types">​</a></h2>
<p>The following describes the order types which are available for the platform with a code example.
Any optional parameters will be clearly marked with a comment which includes the default value.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="market">Market<a href="#market" class="hash-link" aria-label="Direct link to Market" title="Direct link to Market">​</a></h3>
<p>A <em>Market</em> order is an instruction by the trader to immediately trade
the given quantity at the best price available. You can also specify several
time in force options, and indicate whether this order is only intended to reduce
a position.</p>
<p>In the following example we create a <em>Market</em> order on the Interactive Brokers <a href="https://ibkr.info/node/1708" target="_blank" rel="noopener noreferrer">IdealPro</a> Forex ECN
to BUY 100,000 AUD using USD:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> OrderSide</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> TimeInForce</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> InstrumentId</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> Quantity</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">orders </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> MarketOrder</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">order</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> MarketOrder </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">order_factory</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">market</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    instrument_id</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">InstrumentId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;AUD/USD.IDEALPRO&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    order_side</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">OrderSide</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">BUY</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    quantity</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">Quantity</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_int</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">100_000</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    time_in_force</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">TimeInForce</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">IOC</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default GTC)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    reduce_only</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean">False</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default False)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    tags</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;ENTRY&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default None)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewbox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>See the <code>MarketOrder</code> <a href="../../api_reference/model/orders/index.htm#class-marketorder">API Reference</a> for further details.</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="limit">Limit<a href="#limit" class="hash-link" aria-label="Direct link to Limit" title="Direct link to Limit">​</a></h3>
<p>A <em>Limit</em> order is placed on the limit order book at a specific price, and will only
execute at that price (or better).</p>
<p>In the following example we create a <em>Limit</em> order on the Binance Futures Crypto exchange to SELL 20 ETHUSDT-PERP Perpetual Futures
contracts at a limit price of 5000 USDT, as a market maker.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> OrderSide</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> TimeInForce</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> InstrumentId</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> Price</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> Quantity</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">orders </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> LimitOrder</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">order</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> LimitOrder </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">order_factory</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">limit</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    instrument_id</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">InstrumentId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;ETHUSDT-PERP.BINANCE&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    order_side</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">OrderSide</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">SELL</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    quantity</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">Quantity</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_int</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">20</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    price</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">Price</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;5_000.00&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    time_in_force</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">TimeInForce</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">GTC</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default GTC)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    expire_time</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean">None</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default None)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    post_only</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default False)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    reduce_only</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean">False</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default False)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    display_qty</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean">None</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default None which indicates full display)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    tags</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean">None</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default None)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewbox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>See the <code>LimitOrder</code> <a href="../../api_reference/model/orders/index.htm#class-limitorder">API Reference</a> for further details.</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="stop-market">Stop-Market<a href="#stop-market" class="hash-link" aria-label="Direct link to Stop-Market" title="Direct link to Stop-Market">​</a></h3>
<p>A <em>Stop-Market</em> order is a conditional order which once triggered, will immediately
place a <em>Market</em> order. This order type is often used as a stop-loss to limit losses, either
as a SELL order against LONG positions, or as a BUY order against SHORT positions.</p>
<p>In the following example we create a <em>Stop-Market</em> order on the Binance Spot/Margin exchange
to SELL 1 BTC at a trigger price of 100,000 USDT, active until further notice:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> OrderSide</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> TimeInForce</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> TriggerType</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> InstrumentId</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> Price</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> Quantity</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">orders </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> StopMarketOrder</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">order</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> StopMarketOrder </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">order_factory</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">stop_market</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    instrument_id</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">InstrumentId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;BTCUSDT.BINANCE&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    order_side</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">OrderSide</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">SELL</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    quantity</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">Quantity</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_int</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    trigger_price</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">Price</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_int</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">100_000</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    trigger_type</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">TriggerType</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">LAST_PRICE</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default DEFAULT)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    time_in_force</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">TimeInForce</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">GTC</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default GTC)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    expire_time</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean">None</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default None)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    reduce_only</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean">False</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default False)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    tags</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean">None</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default None)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewbox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>See the <code>StopMarketOrder</code> <a href="../../api_reference/model/orders/index.htm#class-stopmarketorder">API Reference</a> for further details.</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="stop-limit">Stop-Limit<a href="#stop-limit" class="hash-link" aria-label="Direct link to Stop-Limit" title="Direct link to Stop-Limit">​</a></h3>
<p>A <em>Stop-Limit</em> order is a conditional order which once triggered will immediately place
a <em>Limit</em> order at the specified price.</p>
<p>In the following example we create a <em>Stop-Limit</em> order on the Currenex FX ECN to BUY 50,000 GBP at a limit price of 1.3000 USD
once the market hits the trigger price of 1.30010 USD, active until midday 6th June, 2022 (UTC):</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> pandas </span><span class="token keyword" style="color:rgb(86, 156, 214)">as</span><span class="token plain"> pd</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> OrderSide</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> TimeInForce</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> TriggerType</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> InstrumentId</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> Price</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> Quantity</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">orders </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> StopLimitOrder</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">order</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> StopLimitOrder </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">order_factory</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">stop_limit</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    instrument_id</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">InstrumentId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;GBP/USD.CURRENEX&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    order_side</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">OrderSide</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">BUY</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    quantity</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">Quantity</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_int</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">50_000</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    price</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">Price</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;1.30000&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    trigger_price</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">Price</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;1.30010&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    trigger_type</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">TriggerType</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">BID_ASK</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default DEFAULT)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    time_in_force</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">TimeInForce</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">GTD</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default GTC)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    expire_time</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">pd</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">Timestamp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;2022-06-06T12:00&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    post_only</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default False)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    reduce_only</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean">False</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default False)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    tags</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean">None</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default None)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewbox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>See the <code>StopLimitOrder</code> <a href="../../api_reference/model/orders/index.htm#class-stoplimitorder">API Reference</a> for further details.</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="market-to-limit">Market-To-Limit<a href="#market-to-limit" class="hash-link" aria-label="Direct link to Market-To-Limit" title="Direct link to Market-To-Limit">​</a></h3>
<p>A <em>Market-To-Limit</em> order is submitted as a market order to execute at the current best market price.
If the order is only partially filled, the remainder of the order is canceled and re-submitted as a <em>Limit</em> order with
the limit price equal to the price at which the filled portion of the order executed.</p>
<p>In the following example we create a <em>Market-To-Limit</em> order on the Interactive Brokers <a href="https://ibkr.info/node/1708" target="_blank" rel="noopener noreferrer">IdealPro</a> Forex ECN
to BUY 200,000 USD using JPY:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> OrderSide</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> TimeInForce</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> InstrumentId</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> Quantity</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">orders </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> MarketToLimitOrder</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">order</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> MarketToLimitOrder </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">order_factory</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">market_to_limit</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    instrument_id</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">InstrumentId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;USD/JPY.IDEALPRO&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    order_side</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">OrderSide</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">BUY</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    quantity</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">Quantity</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_int</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">200_000</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    time_in_force</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">TimeInForce</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">GTC</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default GTC)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    reduce_only</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean">False</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default False)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    display_qty</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean">None</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default None which indicates full display)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    tags</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean">None</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default None)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewbox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>See the <code>MarketToLimitOrder</code> <a href="../../api_reference/model/orders/index.htm#class-markettolimitorder">API Reference</a> for further details.</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="market-if-touched">Market-If-Touched<a href="#market-if-touched" class="hash-link" aria-label="Direct link to Market-If-Touched" title="Direct link to Market-If-Touched">​</a></h3>
<p>A <em>Market-If-Touched</em> order is a conditional order which once triggered will immediately
place a <em>Market</em> order. This order type is often used to enter a new position on a stop price,
or to take profits for an existing position, either as a SELL order against LONG positions,
or as a BUY order against SHORT positions.</p>
<p>In the following example we create a <em>Market-If-Touched</em> order on the Binance Futures exchange
to SELL 10 ETHUSDT-PERP Perpetual Futures contracts at a trigger price of 10,000 USDT, active until further notice:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> OrderSide</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> TimeInForce</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> TriggerType</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> InstrumentId</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> Price</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> Quantity</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">orders </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> MarketIfTouchedOrder</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">order</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> MarketIfTouchedOrder </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">order_factory</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">market_if_touched</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    instrument_id</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">InstrumentId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;ETHUSDT-PERP.BINANCE&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    order_side</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">OrderSide</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">SELL</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    quantity</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">Quantity</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_int</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">10</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    trigger_price</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">Price</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;10_000.00&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    trigger_type</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">TriggerType</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">LAST_PRICE</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default DEFAULT)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    time_in_force</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">TimeInForce</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">GTC</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default GTC)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    expire_time</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean">None</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default None)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    reduce_only</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean">False</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default False)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    tags</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;ENTRY&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default None)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewbox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>See the <code>MarketIfTouchedOrder</code> <a href="../../api_reference/model/orders/index.htm#class-marketiftouchedorder">API Reference</a> for further details.</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="limit-if-touched">Limit-If-Touched<a href="#limit-if-touched" class="hash-link" aria-label="Direct link to Limit-If-Touched" title="Direct link to Limit-If-Touched">​</a></h3>
<p>A <em>Limit-If-Touched</em> order is a conditional order which once triggered will immediately place
a <em>Limit</em> order at the specified price.</p>
<p>In the following example we create a <em>Limit-If-Touched</em> order to BUY 5 BTCUSDT-PERP Perpetual Futures contracts on the
Binance Futures exchange at a limit price of 30,100 USDT (once the market hits the trigger price of 30,150 USDT),
active until midday 6th June, 2022 (UTC):</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> pandas </span><span class="token keyword" style="color:rgb(86, 156, 214)">as</span><span class="token plain"> pd</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> OrderSide</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> TimeInForce</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> TriggerType</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> InstrumentId</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> Price</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> Quantity</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">orders </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> LimitIfTouchedOrder</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">order</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> LimitIfTouchedOrder </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">order_factory</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">limit_if_touched</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    instrument_id</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">InstrumentId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;BTCUSDT-PERP.BINANCE&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    order_side</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">OrderSide</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">BUY</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    quantity</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">Quantity</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_int</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">5</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    price</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">Price</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;30_100&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    trigger_price</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">Price</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;30_150&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    trigger_type</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">TriggerType</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">LAST_PRICE</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default DEFAULT)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    time_in_force</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">TimeInForce</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">GTD</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default GTC)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    expire_time</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">pd</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">Timestamp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;2022-06-06T12:00&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    post_only</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default False)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    reduce_only</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean">False</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default False)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    tags</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;TAKE_PROFIT&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default None)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewbox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>See the <code>LimitIfTouched</code> <a href="../../api_reference/model/orders/index.htm#class-limitiftouchedorder-1">API Reference</a> for further details.</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="trailing-stop-market">Trailing-Stop-Market<a href="#trailing-stop-market" class="hash-link" aria-label="Direct link to Trailing-Stop-Market" title="Direct link to Trailing-Stop-Market">​</a></h3>
<p>A <em>Trailing-Stop-Market</em> order is a conditional order which trails a stop trigger price
a fixed offset away from the defined market price. Once triggered a <em>Market</em> order will
immediately be placed.</p>
<p>In the following example we create a <em>Trailing-Stop-Market</em> order on the Binance Futures exchange to SELL 10 ETHUSD-PERP COIN_M margined
Perpetual Futures Contracts activating at a price of 5,000 USD, then trailing at an offset of 1% (in basis points) away from the current last traded price:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> pandas </span><span class="token keyword" style="color:rgb(86, 156, 214)">as</span><span class="token plain"> pd</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> decimal </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> Decimal</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> OrderSide</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> TimeInForce</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> TriggerType</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> TrailingOffsetType</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> InstrumentId</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> Price</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> Quantity</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">orders </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> TrailingStopMarketOrder</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">order</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> TrailingStopMarketOrder </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">order_factory</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">trailing_stop_market</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    instrument_id</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">InstrumentId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;ETHUSD-PERP.BINANCE&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    order_side</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">OrderSide</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">SELL</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    quantity</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">Quantity</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_int</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">10</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    activation_price</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">Price</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;5_000&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    trigger_type</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">TriggerType</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">LAST_PRICE</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default DEFAULT)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    trailing_offset</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">Decimal</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">100</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    trailing_offset_type</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">TrailingOffsetType</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">BASIS_POINTS</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    time_in_force</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">TimeInForce</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">GTC</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default GTC)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    expire_time</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean">None</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default None)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    reduce_only</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default False)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    tags</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;TRAILING_STOP-1&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default None)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewbox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>See the <code>TrailingStopMarketOrder</code> <a href="../../api_reference/model/orders/index.htm#class-trailingstopmarketorder-1">API Reference</a> for further details.</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="trailing-stop-limit">Trailing-Stop-Limit<a href="#trailing-stop-limit" class="hash-link" aria-label="Direct link to Trailing-Stop-Limit" title="Direct link to Trailing-Stop-Limit">​</a></h3>
<p>A <em>Trailing-Stop-Limit</em> order is a conditional order which trails a stop trigger price
a fixed offset away from the defined market price. Once triggered a <em>Limit</em> order will
immediately be placed at the defined price (which is also updated as the market moves until triggered).</p>
<p>In the following example we create a <em>Trailing-Stop-Limit</em> order on the Currenex FX ECN to BUY 1,250,000 AUD using USD
at a limit price of 0.71000 USD, activating at 0.72000 USD then trailing at a stop offset of 0.00100 USD
away from the current ask price, active until further notice:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> pandas </span><span class="token keyword" style="color:rgb(86, 156, 214)">as</span><span class="token plain"> pd</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> decimal </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> Decimal</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> OrderSide</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> TimeInForce</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> TriggerType</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">enums </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> TrailingOffsetType</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> InstrumentId</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> Price</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> Quantity</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> posei_trader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">orders </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> TrailingStopLimitOrder</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">order</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> TrailingStopLimitOrder </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">order_factory</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">trailing_stop_limit</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    instrument_id</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">InstrumentId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;AUD/USD.CURRENEX&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    order_side</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">OrderSide</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">BUY</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    quantity</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">Quantity</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_int</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">1_250_000</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    price</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">Price</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;0.71000&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    activation_price</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">Price</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;0.72000&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    trigger_type</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">TriggerType</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">BID_ASK</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default DEFAULT)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    limit_offset</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">Decimal</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;0.00050&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    trailing_offset</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">Decimal</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;0.00100&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    trailing_offset_type</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">TrailingOffsetType</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">PRICE</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    time_in_force</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">TimeInForce</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">GTC</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default GTC)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    expire_time</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean">None</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default None)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    reduce_only</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default False)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    tags</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;TRAILING_STOP&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># &lt;-- optional (default None)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewbox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>See the <code>TrailingStopLimitOrder</code> <a href="../../api_reference/model/orders/index.htm#class-trailingstoplimitorder-1">API Reference</a> for further details.</p></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="advanced-orders">Advanced Orders<a href="#advanced-orders" class="hash-link" aria-label="Direct link to Advanced Orders" title="Direct link to Advanced Orders">​</a></h2>
<p>The following guide should be read in conjunction with the specific documentation from the broker or venue
involving these order types, lists/groups and execution instructions (such as for Interactive Brokers).</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="order-lists">Order Lists<a href="#order-lists" class="hash-link" aria-label="Direct link to Order Lists" title="Direct link to Order Lists">​</a></h3>
<p>Combinations of contingent orders, or larger order bulks can be grouped together into a list with a common
<code>order_list_id</code>. The orders contained in this list may or may not have a contingent relationship with
each other, as this is specific to how the orders themselves are constructed, and the
specific venue they are being routed to.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="contingency-types">Contingency Types<a href="#contingency-types" class="hash-link" aria-label="Direct link to Contingency Types" title="Direct link to Contingency Types">​</a></h3>
<ul>
<li>
<p><strong>OTO (One-Triggers-Other)</strong> – a parent order that, once executed, automatically places one or more child orders.</p>
<ul>
<li><em>Full-trigger model</em>: child order(s) are released <strong>only after the parent is completely filled</strong>. Common at most retail equity/option brokers (e.g. Schwab, Fidelity, TD Ameritrade) and many spot-crypto venues (Binance, Coinbase).</li>
<li><em>Partial-trigger model</em>: child order(s) are released <strong>pro-rata to each partial fill</strong>. Used by professional-grade platforms such as Interactive Brokers, most futures/FX OMSs, and Kraken Pro.</li>
</ul>
</li>
<li>
<p><strong>OCO (One-Cancels-Other)</strong> – two (or more) linked live orders where executing one cancels the remainder.</p>
</li>
<li>
<p><strong>OUO (One-Updates-Other)</strong> – two (or more) linked live orders where executing one reduces the open quantity of the remainder.</p>
</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewbox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>These contingency types relate to ContingencyType FIX tag &lt;1385&gt; <a href="https://www.onixs.biz/fix-dictionary/5.0.sp2/tagnum_1385.html" target="_blank" rel="noopener noreferrer">https://www.onixs.biz/fix-dictionary/5.0.sp2/tagnum_1385.html</a>.</p></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="one-triggers-other-oto">One-Triggers-Other (OTO)<a href="#one-triggers-other-oto" class="hash-link" aria-label="Direct link to One-Triggers-Other (OTO)" title="Direct link to One-Triggers-Other (OTO)">​</a></h4>
<p>An OTO order involves two parts:</p>
<ol>
<li><strong>Parent order</strong> – submitted to the matching engine immediately.</li>
<li><strong>Child order(s)</strong> – held <em>off-book</em> until the trigger condition is met.</li>
</ol>
<h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="trigger-models">Trigger models<a href="#trigger-models" class="hash-link" aria-label="Direct link to Trigger models" title="Direct link to Trigger models">​</a></h5>

















<table><thead><tr><th>Trigger model</th><th>When are child orders released?</th></tr></thead><tbody><tr><td><strong>Full trigger</strong></td><td>When the parent order’s cumulative quantity equals its original quantity (i.e., it is <em>fully</em> filled).</td></tr><tr><td><strong>Partial trigger</strong></td><td>Immediately upon each partial execution of the parent; the child’s quantity matches the executed amount and is increased as further fills occur.</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewbox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>The default backtest venue for PoseiTrader uses a <em>partial-trigger model</em> for OTO orders.
A future update will add configuration to opt-in to a <em>full-trigger model</em>.</p></div></div>
<blockquote>
<p><strong>Why the distinction matters</strong>
<em>Full trigger</em> leaves a risk window: any partially filled position is live without its protective exit until the remaining quantity fills.
<em>Partial trigger</em> mitigates that risk by ensuring every executed lot instantly has its linked stop/limit, at the cost of creating more order traffic and updates.</p>
</blockquote>
<p>An OTO order can use any supported asset type on the venue (e.g. stock entry with option hedge, futures entry with OCO bracket, crypto spot entry with TP/SL).</p>







































































<table><thead><tr><th>Venue / Adapter ID</th><th>Asset classes</th><th>Trigger rule for child</th><th>Practical notes</th></tr></thead><tbody><tr><td>Binance / Binance Futures (<code>BINANCE</code>)</td><td>Spot, perpetual futures</td><td><strong>Partial or full</strong> – fires on first fill.</td><td>OTOCO/TP-SL children appear instantly; monitor margin usage.</td></tr><tr><td>Bybit Spot (<code>BYBIT</code>)</td><td>Spot</td><td><strong>Full</strong> – child placed after completion.</td><td>TP-SL preset activates only once the limit order is fully filled.</td></tr><tr><td>Bybit Perps (<code>BYBIT</code>)</td><td>Perpetual futures</td><td><strong>Partial and full</strong> – configurable.</td><td>“Partial-position” mode sizes TP-SL as fills arrive.</td></tr><tr><td>Kraken Futures (<code>KRAKEN</code>)</td><td>Futures &amp; perps</td><td><strong>Partial and full</strong> – automatic.</td><td>Child quantity matches every partial execution.</td></tr><tr><td>OKX (<code>OKX</code>)</td><td>Spot, futures, options</td><td><strong>Full</strong> – attached stop waits for fill.</td><td>Position-level TP-SL can be added separately.</td></tr><tr><td>Interactive Brokers (<code>INTERACTIVE_BROKERS</code>)</td><td>Stocks, options, FX, fut</td><td><strong>Configurable</strong> – OCA can pro-rate.</td><td><code>OcaType 2/3</code> reduces remaining child quantities.</td></tr><tr><td>Coinbase International (<code>COINBASE_INTX</code>)</td><td>Spot &amp; perps</td><td><strong>Full</strong> – bracket added post-execution.</td><td>Entry plus bracket not simultaneous; added once position is live.</td></tr><tr><td>dYdX v4 (<code>DYDX</code>)</td><td>Perpetual futures (DEX)</td><td>On-chain condition (size exact).</td><td>TP-SL triggers by oracle price; partial fill not applicable.</td></tr><tr><td>Polymarket (<code>POLYMARKET</code>)</td><td>Prediction market (DEX)</td><td>N/A.</td><td>Advanced contingency handled entirely at the strategy layer.</td></tr><tr><td>Betfair (<code>BETFAIR</code>)</td><td>Sports betting</td><td>N/A.</td><td>Advanced contingency handled entirely at the strategy layer.</td></tr></tbody></table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="one-cancels-other-oco">One-Cancels-Other (OCO)<a href="#one-cancels-other-oco" class="hash-link" aria-label="Direct link to One-Cancels-Other (OCO)" title="Direct link to One-Cancels-Other (OCO)">​</a></h4>
<p>An OCO order is a set of linked orders where the execution of <strong>any</strong> order (full <em>or partial</em>) triggers a best-efforts cancellation of the others.
Both orders are live simultaneously; once one starts filling, the venue attempts to cancel the unexecuted portion of the remainder.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="one-updates-other-ouo">One-Updates-Other (OUO)<a href="#one-updates-other-ouo" class="hash-link" aria-label="Direct link to One-Updates-Other (OUO)" title="Direct link to One-Updates-Other (OUO)">​</a></h4>
<p>An OUO order is a set of linked orders where execution of one order causes an immediate <em>reduction</em> of open quantity in the other order(s).
Both orders are live concurrently, and each partial execution proportionally updates the remaining quantity of its peer order on a best-effort basis.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="bracket-orders">Bracket Orders<a href="#bracket-orders" class="hash-link" aria-label="Direct link to Bracket Orders" title="Direct link to Bracket Orders">​</a></h3>
<p>Bracket orders are an advanced order type that allows traders to set both take-profit and stop-loss
levels for a position simultaneously. This involves placing a parent order (entry order) and two child
orders: a take-profit <code>LIMIT</code> order and a stop-loss <code>STOP_MARKET</code> order. When the parent order is executed,
the child orders are placed in the market. The take-profit order closes the position with profits if
the market moves favorably, while the stop-loss order limits losses if the market moves unfavorably.</p>
<p>Bracket orders can be easily created using the <a href="../../api_reference/common/index.htm#class-orderfactory">OrderFactory</a>,
which supports various order types, parameters, and instructions.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewbox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>You should be aware of the margin requirements of positions, as bracketing a position will consume
more order margin.</p></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="emulated-orders">Emulated Orders<a href="#emulated-orders" class="hash-link" aria-label="Direct link to Emulated Orders" title="Direct link to Emulated Orders">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h3>
<p>Before diving into the technical details, it&#x27;s important to understand the fundamental purpose of emulated orders
in Posei Trader. At its core, emulation allows you to use certain order types even when your trading venue
doesn&#x27;t natively support them.</p>
<p>This works by having Posei locally mimic the behavior of these order types (such as <code>STOP_LIMIT</code> or <code>TRAILING_STOP</code> orders)
locally, while using only simple <code>MARKET</code> and <code>LIMIT</code> orders for actual execution on the venue.</p>
<p>When you create an emulated order, Posei continuously tracks a specific type of market price (specified by the
<code>emulation_trigger</code> parameter) and based on the order type and conditions you&#x27;ve set, will automatically submit
the appropriate fundamental order (<code>MARKET</code> / <code>LIMIT</code>) when the triggering condition is met.</p>
<p>For example, if you create an emulated <code>STOP_LIMIT</code> order, Posei will monitor the market price until your <code>stop</code>
price is reached, and then automatically submits a <code>LIMIT</code> order to the venue.</p>
<p>To perform emulation, Posei needs to know which <strong>type of market price</strong> it should monitor.
By default, it uses bid and ask prices (quotes), which is why you&#x27;ll often see <code>emulation_trigger=TriggerType.DEFAULT</code>
in examples (this is equivalent to using <code>TriggerType.BID_ASK</code>). However, Posei supports various other price types,
that can guide the emulation process.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="submitting-order-for-emulation">Submitting order for emulation<a href="#submitting-order-for-emulation" class="hash-link" aria-label="Direct link to Submitting order for emulation" title="Direct link to Submitting order for emulation">​</a></h3>
<p>The only requirement to emulate an order is to pass a <code>TriggerType</code> to the <code>emulation_trigger</code>
parameter of an <code>Order</code> constructor, or <code>OrderFactory</code> creation method. The following
emulation trigger types are currently supported:</p>
<ul>
<li><code>NO_TRIGGER</code>: disables local emulation completely and order is fully submitted to the venue.</li>
<li><code>DEFAULT</code>: which is the same as <code>BID_ASK</code>.</li>
<li><code>BID_ASK</code>: emulated using quotes to trigger.</li>
<li><code>LAST</code>: emulated using trades to trigger.</li>
</ul>
<p>The choice of trigger type determines how the order emulation will behave:</p>
<ul>
<li>For <code>STOP</code> orders, the trigger price of order will be compared against the specified trigger type.</li>
<li>For <code>TRAILING_STOP</code> orders, the trailing offset will be updated based on the specified trigger type.</li>
<li>For <code>LIMIT</code> orders, the limit price of order will be compared against the specified trigger type.</li>
</ul>
<p>Here are all the available values you can set into <code>emulation_trigger</code> parameter and their purposes:</p>




























































<table><thead><tr><th style="text-align:left">Trigger Type</th><th style="text-align:left">Description</th><th style="text-align:left">Common use cases</th></tr></thead><tbody><tr><td style="text-align:left"><code>NO_TRIGGER</code></td><td style="text-align:left">Disables emulation completely. The order is sent directly to the venue without any local processing.</td><td style="text-align:left">When you want to use the venue&#x27;s native order handling, or for simple order types that don&#x27;t need emulation.</td></tr><tr><td style="text-align:left"><code>DEFAULT</code></td><td style="text-align:left">Same as <code>BID_ASK</code>. This is the standard choice for most emulated orders.</td><td style="text-align:left">General-purpose emulation when you want to work with the &quot;default&quot; type of market prices.</td></tr><tr><td style="text-align:left"><code>BID_ASK</code></td><td style="text-align:left">Uses the best bid and ask prices (quotes) to guide emulation.</td><td style="text-align:left">Stop orders, trailing stops, and other orders that should react to the current market spread.</td></tr><tr><td style="text-align:left"><code>LAST_PRICE</code></td><td style="text-align:left">Uses the price of the most recent trade to guide emulation.</td><td style="text-align:left">Orders that should trigger based on actual executed trades rather than quotes.</td></tr><tr><td style="text-align:left"><code>DOUBLE_LAST</code></td><td style="text-align:left">Uses two consecutive last trade prices to confirm the trigger condition.</td><td style="text-align:left">When you want additional confirmation of price movement before triggering.</td></tr><tr><td style="text-align:left"><code>DOUBLE_BID_ASK</code></td><td style="text-align:left">Uses two consecutive bid/ask price updates to confirm the trigger condition.</td><td style="text-align:left">When you want extra confirmation of quote movements before triggering.</td></tr><tr><td style="text-align:left"><code>LAST_OR_BID_ASK</code></td><td style="text-align:left">Triggers on either last trade price or bid/ask prices.</td><td style="text-align:left">When you want to be more responsive to any type of price movement.</td></tr><tr><td style="text-align:left"><code>MID_POINT</code></td><td style="text-align:left">Uses the middle point between the best bid and ask prices.</td><td style="text-align:left">Orders that should trigger based on the theoretical fair price.</td></tr><tr><td style="text-align:left"><code>MARK_PRICE</code></td><td style="text-align:left">Uses the mark price (common in derivatives markets) for triggering.</td><td style="text-align:left">Particularly useful for futures and perpetual contracts.</td></tr><tr><td style="text-align:left"><code>INDEX_PRICE</code></td><td style="text-align:left">Uses an underlying index price for triggering.</td><td style="text-align:left">When trading derivatives that track an index.</td></tr></tbody></table>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="technical-implementation">Technical implementation<a href="#technical-implementation" class="hash-link" aria-label="Direct link to Technical implementation" title="Direct link to Technical implementation">​</a></h3>
<p>The platform makes it possible to emulate most order types locally, regardless
of whether the type is supported on a trading venue. The logic and code paths for
order emulation are exactly the same for all <a href="../architecture/index.htm#environment-contexts">environment contexts</a>
and utilize a common <code>OrderEmulator</code> component.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewbox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>There is no limitation on the number of emulated orders you can have per running instance.</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="life-cycle">Life cycle<a href="#life-cycle" class="hash-link" aria-label="Direct link to Life cycle" title="Direct link to Life cycle">​</a></h3>
<p>An emulated order will progress through the following stages:</p>
<ol>
<li>Submitted by a <code>Strategy</code> through the <code>submit_order</code> method.</li>
<li>Sent to the <code>RiskEngine</code> for pre-trade risk checks (it may be denied at this point).</li>
<li>Sent to the <code>OrderEmulator</code> where it is <em>held</em> / emulated.</li>
<li>Once triggered, emulated order is transformed into a <code>MARKET</code> or <code>LIMIT</code> order and released (submitted to the venue).</li>
<li>Released order undergoes final risk checks before venue submission.</li>
</ol>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewbox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Emulated orders are subject to the same risk controls as <em>regular</em> orders, and can be
modified and canceled by a trading strategy in the normal way. They will also be included
when canceling all orders.</p></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewbox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>An emulated order will retain its original client order ID throughout its entire life cycle, making it easy to query
through the cache.</p></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="held-emulated-orders">Held emulated orders<a href="#held-emulated-orders" class="hash-link" aria-label="Direct link to Held emulated orders" title="Direct link to Held emulated orders">​</a></h4>
<p>The following will occur for an emulated order now <em>held</em> by the <code>OrderEmulator</code> component:</p>
<ul>
<li>The original <code>SubmitOrder</code> command will be cached.</li>
<li>The emulated order will be processed inside a local <code>MatchingCore</code> component.</li>
<li>The <code>OrderEmulator</code> will subscribe to any needed market data (if not already) to update the matching core.</li>
<li>The emulated order can be modified (by the trader) and updated (by the market) until <em>released</em> or canceled.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="released-emulated-orders">Released emulated orders<a href="#released-emulated-orders" class="hash-link" aria-label="Direct link to Released emulated orders" title="Direct link to Released emulated orders">​</a></h4>
<p>Once an emulated order is triggered / matched locally based on the arrival of data, the following
<em>release</em> actions will occur:</p>
<ul>
<li>The order will be transformed to either a <code>MARKET</code> or <code>LIMIT</code> order (see below table) through an additional <code>OrderInitialized</code> event.</li>
<li>The orders <code>emulation_trigger</code> will be set to <code>NONE</code> (it will no longer be treated as an emulated order by any component).</li>
<li>The order attached to the original <code>SubmitOrder</code> command will be sent back to the <code>RiskEngine</code> for additional checks since any modification/updates.</li>
<li>If not denied, then the command will continue to the <code>ExecutionEngine</code> and on to the trading venue via an <code>ExecutionClient</code> as normal.</li>
</ul>
<p>The following table lists which order types are possible to emulate, and
which order type they transform to when being released for submission to the
trading venue.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="order-types-which-can-be-emulated">Order types, which can be emulated<a href="#order-types-which-can-be-emulated" class="hash-link" aria-label="Direct link to Order types, which can be emulated" title="Direct link to Order types, which can be emulated">​</a></h3>
<p>The following table lists which order types are possible to emulate, and
which order type they transform to when being released for submission to the
trading venue.</p>























































<table><thead><tr><th style="text-align:left">Order type for emulation</th><th style="text-align:left">Can emulate</th><th style="text-align:left">Released type</th></tr></thead><tbody><tr><td style="text-align:left"><code>MARKET</code></td><td style="text-align:left"></td><td style="text-align:left">n/a</td></tr><tr><td style="text-align:left"><code>MARKET_TO_LIMIT</code></td><td style="text-align:left"></td><td style="text-align:left">n/a</td></tr><tr><td style="text-align:left"><code>LIMIT</code></td><td style="text-align:left">✓</td><td style="text-align:left"><code>MARKET</code></td></tr><tr><td style="text-align:left"><code>STOP_MARKET</code></td><td style="text-align:left">✓</td><td style="text-align:left"><code>MARKET</code></td></tr><tr><td style="text-align:left"><code>STOP_LIMIT</code></td><td style="text-align:left">✓</td><td style="text-align:left"><code>LIMIT</code></td></tr><tr><td style="text-align:left"><code>MARKET_IF_TOUCHED</code></td><td style="text-align:left">✓</td><td style="text-align:left"><code>MARKET</code></td></tr><tr><td style="text-align:left"><code>LIMIT_IF_TOUCHED</code></td><td style="text-align:left">✓</td><td style="text-align:left"><code>LIMIT</code></td></tr><tr><td style="text-align:left"><code>TRAILING_STOP_MARKET</code></td><td style="text-align:left">✓</td><td style="text-align:left"><code>MARKET</code></td></tr><tr><td style="text-align:left"><code>TRAILING_STOP_LIMIT</code></td><td style="text-align:left">✓</td><td style="text-align:left"><code>LIMIT</code></td></tr></tbody></table>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="querying">Querying<a href="#querying" class="hash-link" aria-label="Direct link to Querying" title="Direct link to Querying">​</a></h3>
<p>When writing trading strategies, it may be necessary to know the state of emulated orders in the system.
There are several ways to query emulation status:</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="through-the-cache">Through the Cache<a href="#through-the-cache" class="hash-link" aria-label="Direct link to Through the Cache" title="Direct link to Through the Cache">​</a></h4>
<p>The following <code>Cache</code> methods are available:</p>
<ul>
<li><code>self.cache.orders_emulated(...)</code>: Returns all currently emulated orders.</li>
<li><code>self.cache.is_order_emulated(...)</code>: Checks if a specific order is emulated.</li>
<li><code>self.cache.orders_emulated_count(...)</code>: Returns the count of emulated orders.</li>
</ul>
<p>See the full <a href="/docs/api_reference/cache">API reference</a> for additional details.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="direct-order-queries">Direct order queries<a href="#direct-order-queries" class="hash-link" aria-label="Direct link to Direct order queries" title="Direct link to Direct order queries">​</a></h4>
<p>You can query order objects directly using:</p>
<ul>
<li><code>order.is_emulated</code></li>
</ul>
<p>If either of these return <code>False</code>, then the order has been <em>released</em> from the
<code>OrderEmulator</code>, and so is no longer considered an emulated order (or was never an emulated order).</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewbox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>It&#x27;s not advised to hold a local reference to an emulated order, as the order
object will be transformed when/if the emulated order is <em>released</em>. You should rely
on the <code>Cache</code> which is made for the job.</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="persistence-and-recovery">Persistence and recovery<a href="#persistence-and-recovery" class="hash-link" aria-label="Direct link to Persistence and recovery" title="Direct link to Persistence and recovery">​</a></h3>
<p>If a running system either crashes or shuts down with active emulated orders, then
they will be reloaded inside the <code>OrderEmulator</code> from any configured cache database.
This ensures order state persistence across system restarts and recoveries.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="best-practices">Best practices<a href="#best-practices" class="hash-link" aria-label="Direct link to Best practices" title="Direct link to Best practices">​</a></h3>
<p>When working with emulated orders, consider the following best practices:</p>
<ol>
<li>Always use the <code>Cache</code> for querying or tracking emulated orders rather than storing local references</li>
<li>Be aware that emulated orders transform to different types when released</li>
<li>Remember that emulated orders undergo risk checks both at submission and release</li>
</ol>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewbox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Order emulation allows you to use advanced order types even on venues that don&#x27;t natively support them,
making your trading strategies more portable across different venues.</p></div></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="../execution/index.htm"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Execution</div></a><a class="pagination-nav__link pagination-nav__link--next" href="../cache/index.htm"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Cache</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a><ul><li><a href="#terminology" class="table-of-contents__link toc-highlight">Terminology</a></li></ul></li><li><a href="#execution-instructions" class="table-of-contents__link toc-highlight">Execution instructions</a><ul><li><a href="#time-in-force" class="table-of-contents__link toc-highlight">Time in force</a></li><li><a href="#expire-time" class="table-of-contents__link toc-highlight">Expire time</a></li><li><a href="#post-only" class="table-of-contents__link toc-highlight">Post-only</a></li><li><a href="#reduce-only" class="table-of-contents__link toc-highlight">Reduce-only</a></li><li><a href="#display-quantity" class="table-of-contents__link toc-highlight">Display quantity</a></li><li><a href="#trigger-type" class="table-of-contents__link toc-highlight">Trigger type</a></li><li><a href="#trigger-offset-type" class="table-of-contents__link toc-highlight">Trigger offset type</a></li><li><a href="#contingent-orders" class="table-of-contents__link toc-highlight">Contingent orders</a></li></ul></li><li><a href="#order-factory" class="table-of-contents__link toc-highlight">Order factory</a></li><li><a href="#order-types" class="table-of-contents__link toc-highlight">Order Types</a><ul><li><a href="#market" class="table-of-contents__link toc-highlight">Market</a></li><li><a href="#limit" class="table-of-contents__link toc-highlight">Limit</a></li><li><a href="#stop-market" class="table-of-contents__link toc-highlight">Stop-Market</a></li><li><a href="#stop-limit" class="table-of-contents__link toc-highlight">Stop-Limit</a></li><li><a href="#market-to-limit" class="table-of-contents__link toc-highlight">Market-To-Limit</a></li><li><a href="#market-if-touched" class="table-of-contents__link toc-highlight">Market-If-Touched</a></li><li><a href="#limit-if-touched" class="table-of-contents__link toc-highlight">Limit-If-Touched</a></li><li><a href="#trailing-stop-market" class="table-of-contents__link toc-highlight">Trailing-Stop-Market</a></li><li><a href="#trailing-stop-limit" class="table-of-contents__link toc-highlight">Trailing-Stop-Limit</a></li></ul></li><li><a href="#advanced-orders" class="table-of-contents__link toc-highlight">Advanced Orders</a><ul><li><a href="#order-lists" class="table-of-contents__link toc-highlight">Order Lists</a></li><li><a href="#contingency-types" class="table-of-contents__link toc-highlight">Contingency Types</a></li><li><a href="#bracket-orders" class="table-of-contents__link toc-highlight">Bracket Orders</a></li></ul></li><li><a href="#emulated-orders" class="table-of-contents__link toc-highlight">Emulated Orders</a><ul><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#submitting-order-for-emulation" class="table-of-contents__link toc-highlight">Submitting order for emulation</a></li><li><a href="#technical-implementation" class="table-of-contents__link toc-highlight">Technical implementation</a></li><li><a href="#life-cycle" class="table-of-contents__link toc-highlight">Life cycle</a></li><li><a href="#order-types-which-can-be-emulated" class="table-of-contents__link toc-highlight">Order types, which can be emulated</a></li><li><a href="#querying" class="table-of-contents__link toc-highlight">Querying</a></li><li><a href="#persistence-and-recovery" class="table-of-contents__link toc-highlight">Persistence and recovery</a></li><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best practices</a></li></ul></li></ul></div></div></div><div class="footer-wrapper MuiBox-root css-0"><div class="social-footer-box MuiBox-root css-0"><style data-emotion="css 17rjyz3">.css-17rjyz3{-webkit-text-decoration:underline;text-decoration:underline;text-decoration-color:rgba(25, 118, 210, 0.4);padding:12px;margin-right:10px;}.css-17rjyz3:hover{text-decoration-color:inherit;}</style><style data-emotion="css jl1bw5">.css-jl1bw5{margin:0;font:inherit;color:#1976d2;-webkit-text-decoration:underline;text-decoration:underline;text-decoration-color:rgba(25, 118, 210, 0.4);padding:12px;margin-right:10px;}.css-jl1bw5:hover{text-decoration-color:inherit;}</style><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways github-footer css-jl1bw5" href="https://github.com/poseisysstems" target="_blank"></a><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways discord-footer css-jl1bw5" href="" target="_blank"></a><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways linkedin-footer css-jl1bw5" href="https://www.linkedin.com/company/poseitrader/" target="_blank"></a><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways x-footer css-jl1bw5" href="https://twitter.com/PoseiTrader" target="_blank"></a></div><div class="footer-copyright">© 2025 Posei Systems Pty Ltd. All rights reserved.</div></div></div></div></main></div></div></div></div>
</body>
</html>